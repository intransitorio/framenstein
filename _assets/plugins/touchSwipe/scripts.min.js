!function(a){function b(b){return!b||void 0!==b.allowPageScroll||void 0===b.swipe&&void 0===b.swipeStatus||(b.allowPageScroll=h),b||(b={}),b=a.extend({},a.fn.swipe.defaults,b),this.each(function(){var d=a(this),e=d.data(r);e||(e=new c(this,b),d.data(r,e))})}function c(b,c){function w(a){var b,a=a.originalEvent,d=q?a.touches[0]:a;return O=m,q?P=a.touches.length:a.preventDefault(),K=0,L=null,M=0,q&&P!==c.fingers&&c.fingers!==l?z(a):(u=s=d.pageX,v=t=d.pageY,Q=(new Date).getTime(),c.swipeStatus&&(b=A(a,O))),!1===b?(O=p,A(a,O),b):(N.bind(H,x),N.bind(I,y),void 0)}function x(a){if(a=a.originalEvent,O!==o&&O!==p){var b,m=q?a.touches[0]:a;s=m.pageX,t=m.pageY,R=(new Date).getTime(),L=D(),q&&(P=a.touches.length),O=n;var m=a,r=L;if(c.allowPageScroll===h)m.preventDefault();else{var u=c.allowPageScroll===i;switch(r){case d:(c.swipeLeft&&u||!u&&c.allowPageScroll!=j)&&m.preventDefault();break;case e:(c.swipeRight&&u||!u&&c.allowPageScroll!=j)&&m.preventDefault();break;case f:(c.swipeUp&&u||!u&&c.allowPageScroll!=k)&&m.preventDefault();break;case g:(c.swipeDown&&u||!u&&c.allowPageScroll!=k)&&m.preventDefault()}}P!==c.fingers&&c.fingers!==l&&q?(O=p,A(a,O)):(K=C(),M=R-Q,c.swipeStatus&&(b=A(a,O,L,K,M)),c.triggerOnTouchEnd||(m=!(c.maxTimeThreshold?!(M>=c.maxTimeThreshold):1),!0===B()?(O=o,b=A(a,O)):m&&(O=p,A(a,O)))),!1===b&&(O=p,A(a,O))}}function y(a){if(a=a.originalEvent,a.preventDefault(),R=(new Date).getTime(),K=C(),L=D(),M=R-Q,c.triggerOnTouchEnd||!1===c.triggerOnTouchEnd&&O===n)if(O=o,P!==c.fingers&&c.fingers!==l&&q||0===s)O=p,A(a,O);else{var b=!(c.maxTimeThreshold?!(M>=c.maxTimeThreshold):1);!0!==B()&&null!==B()||b?(b||!1===B())&&(O=p,A(a,O)):A(a,O)}else O===n&&(O=p,A(a,O));N.unbind(H,x,!1),N.unbind(I,y,!1)}function z(){Q=R=t=s=v=u=P=0}function A(a,b){var h=void 0;if(c.swipeStatus&&(h=c.swipeStatus.call(N,a,b,L||null,K||0,M||0,P)),b!==p||!c.click||1!==P&&q||!isNaN(K)&&0!==K||(h=c.click.call(N,a,a.target)),b==o)switch(c.swipe&&(h=c.swipe.call(N,a,L,K,M,P)),L){case d:c.swipeLeft&&(h=c.swipeLeft.call(N,a,L,K,M,P));break;case e:c.swipeRight&&(h=c.swipeRight.call(N,a,L,K,M,P));break;case f:c.swipeUp&&(h=c.swipeUp.call(N,a,L,K,M,P));break;case g:c.swipeDown&&(h=c.swipeDown.call(N,a,L,K,M,P))}return(b===p||b===o)&&z(a),h}function B(){return null!==c.threshold?K>=c.threshold:null}function C(){return Math.round(Math.sqrt(Math.pow(s-u,2)+Math.pow(t-v,2)))}function D(){var a;return a=Math.atan2(t-v,u-s),a=Math.round(180*a/Math.PI),0>a&&(a=360-Math.abs(a)),45>=a&&a>=0?d:360>=a&&a>=315?d:a>=135&&225>=a?e:a>45&&135>a?g:f}function E(){N.unbind(G,w),N.unbind(J,z),N.unbind(H,x),N.unbind(I,y)}var s,t,u,v,F=q||!c.fallbackToMouseEvents,G=F?"touchstart":"mousedown",H=F?"touchmove":"mousemove",I=F?"touchend":"mouseup",J="touchcancel",K=0,L=null,M=0,N=a(b),O="start",P=0,Q=t=s=v=u=0,R=0;try{N.bind(G,w),N.bind(J,z)}catch(S){a.error("events not supported "+G+","+J+" on jQuery.swipe")}this.enable=function(){return N.bind(G,w),N.bind(J,z),N},this.disable=function(){return E(),N},this.destroy=function(){return E(),N.data(r,null),N}}var d="left",e="right",f="up",g="down",h="none",i="auto",j="horizontal",k="vertical",l="all",m="start",n="move",o="end",p="cancel",q="ontouchstart"in window,r="TouchSwipe";a.fn.swipe=function(c){var d=a(this),e=d.data(r);if(e&&"string"==typeof c){if(e[c])return e[c].apply(this,Array.prototype.slice.call(arguments,1));a.error("Method "+c+" does not exist on jQuery.swipe")}else if(!(e||"object"!=typeof c&&c))return b.apply(this,arguments);return d},a.fn.swipe.defaults={fingers:1,threshold:75,maxTimeThreshold:null,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,click:null,triggerOnTouchEnd:!0,allowPageScroll:"auto",fallbackToMouseEvents:!0},a.fn.swipe.phases={PHASE_START:m,PHASE_MOVE:n,PHASE_END:o,PHASE_CANCEL:p},a.fn.swipe.directions={LEFT:d,RIGHT:e,UP:f,DOWN:g},a.fn.swipe.pageScroll={NONE:h,HORIZONTAL:j,VERTICAL:k,AUTO:i},a.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:l}}(jQuery);